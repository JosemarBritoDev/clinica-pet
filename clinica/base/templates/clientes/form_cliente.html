{% extends 'base.html' %}
{% load meus_filtros %}

{% block title %}
  Cadastro de Clientes
{% endblock title %}

{% block page_content %}
<style>
  /* Evita deslocamento de layout durante digitação e máscaras */
  .content-wrapper .card { max-width: 1100px; margin: 0 auto; }
  .form-group { margin-bottom: 15px; }
  input.form-control, select.form-control { width: 100%; }
  /* Mantém alinhamento em telas pequenas */
  @media (max-width: 575.98px) {
    .text-right { text-align: right; }
  }
</style>
<div class="card">
  <div class="card-header">
    <h3 class="card-title">Cadastro de Clientes</h3>
  </div>

  <div class="card-body">
    <form method="POST" novalidate>
      {% csrf_token %}

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Nome</label>
            {{ form_cliente.nome | addclass:'form-control' }}
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>CPF</label>
            {{ form_cliente.cpf | addclass:'form-control cpf' }}
            <small class="form-text text-muted">Formato: 000.000.000-00</small>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Telefone</label>
            {{ form_cliente.telefone | addclass:'form-control telefone' }}
            <small class="form-text text-muted">Formato: (00) 00000-0000</small>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Email</label>
            {{ form_cliente.email | addclass:'form-control' }}
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Data de Nascimento</label>
            {{ form_cliente.data_nascimento | addclass:'form-control' }}
          </div>
        </div>
      </div>

      <hr>
      <h4>Endereço</h4>

      <div class="row">
        <div class="col-md-8">
          <div class="form-group">
            <label>Rua</label>
            {{ form_endereco.rua | addclass:'form-control' }}
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Número</label>
            {{ form_endereco.numero | addclass:'form-control' }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Complemento</label>
            {{ form_endereco.complemento | addclass:'form-control' }}
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Bairro</label>
            {{ form_endereco.bairro | addclass:'form-control' }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Cidade</label>
            {{ form_endereco.cidade | addclass:'form-control' }}
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Estado</label>
            {{ form_endereco.estado | addclass:'form-control' }}
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>CEP</label>
            {{ form_endereco.cep | addclass:'form-control cep' }}
            <small class="form-text text-muted">Formato: 00000-000</small>
          </div>
        </div>
      </div>

      <div class="text-right">
        <button type="submit" class="btn btn-primary">Cadastrar</button>
      </div>
    </form>
  </div>
</div>
{% endblock page_content %}

{% block javascript %}
  {{ block.super }}

  <script>
    $(document).ready(function(){
      $('.cpf').mask('000.000.000-00');
      $('.telefone').mask('(00) 00000-0000');
      $('.cep').mask('00000-000');
    });
  </script>
{% endblock javascript %}