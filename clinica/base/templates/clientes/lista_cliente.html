{% extends 'base.html' %}
{% load meus_filtros %}
{# Extende o layout base e carrega filtros personalizados para formatação, como CPF #}

{# Define o título da página que será exibido no template base #}
{% block title %}listagem de Cliente{% endblock title %}

{# Início do conteúdo específico desta página, inserido no layout base #}
{% block page_content %}
<div class="content-wrapper" style="min-height: 1136.28px; width: 100%; margin-left: 0; margin-top: 0; padding-left: 10px; padding-top: 10px;">  <!-- Wrapper geral do conteúdo -->
  <section class="content-header">
    <h1>User Profile</h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>

      <li><a href="#">Examples</a></li>
      <li class="active">User profile</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <!-- Perfil -->
      <div class="col-xs-12 col-sm-4 col-md-3">
        <div class="box box-primary">
          <div class="box-body box-profile">
              <!-- Bloco de informações do cliente (nome e telefone) -->
              <!-- Foto de perfil do cliente poderia ser exibida aqui -->
            <!--img class="profile-user-img img-responsive img-circle" src="../../dist/img/user4-128x128.jpg" alt="User profile picture"-->
            <h3 class="profile-username text-center">{{cliente.nome}}</h3>
            <p class="text-muted text-center">{{cliente.telefone}}</p>

            <ul class="list-group list-group-unbordered">
              <li class="list-group-item">
                <b>Endereço</b> <a class="pull-right">{{cliente.endereco.rua}}, {{cliente.endereco.numero}}</a>
              </li>
              <li class="list-group-item">
                <b>CPF</b> <a class="pull-right">
                {{ cliente.cpf|format_cpf }}
              </a>
              </li>
              <li class="list-group-item">
                <b>Nascimento</b> <a class="pull-right">{{cliente.data_nascimento | date:"d/M/Y"}}</a>
              </li>
            </ul>
          </div>
        </div>

        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Pets</h3>
          </div>
          <div class="box-body">
            {# Lista de pets do cliente. Cada item linka para a página de detalhes do pet #}
            {%for pet in pets%}
            <a href="{% url 'base:listar_pet_id' pet.id %}">
                <strong><i class="fa fa-paw margin-r-5"></i> {{pet.nome}}</strong>
            </a>
            <p class="text-muted">
                {{pet.get_categoria_display}} - {{pet.get_cor_display}}
            </p>
            <hr>
            {%endfor%}
              <div class="row">
                  <div class="col-md-12">
                      <!-- Botão para cadastrar um novo pet vinculado ao cliente atual -->
                      <a href="{% url 'base:cadastrar_pet' cliente.id %}" class="btn btn-primary btn-block">Cadastrar Pet</a>
                      <br>
                      <button type="button" class="btn btn-primary btn-block" onclick="window.history.back();">Voltar</button>
                  </div>

              </div>

          </div>
        </div>
      </div>

      <!-- Histórico -->
      <div class="col-xs-12 col-sm-8 col-md-9">
        <div class="nav-tabs-custom">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#timeline" data-toggle="tab">Histórico</a></li>
          </ul>
          <div class="tab-content">
            <div class="active tab-pane" id="timeline">
              <ul class="timeline timeline-inverse">
                <li class="time-label">
                  <span class="bg-red">10 Feb. 2014</span>
                </li>
                <li>
                  <i class="fa fa-user bg-aqua"></i>
                  <div class="timeline-item">
                    <span class="time"><i class="fa fa-clock-o"></i> 5 mins ago</span>
                    <h3 class="timeline-header no-border"><a href="#">Sarah Young</a> accepted your friend request</h3>
                  </div>
                </li>
                <li class="time-label">
                  <span class="bg-green">3 Jan. 2014</span>
                </li>
                <li><i class="fa fa-clock-o bg-gray"></i></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</div>
{% endblock page_content %}